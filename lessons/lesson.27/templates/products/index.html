{% extends 'products/base.html' %}

{% block head %}
  {#  <link#}
  {#    rel="stylesheet"#}
  {#    href="{{ url_for('static', filename="css/main.css") }}"#}
  {#  >#}
{% endblock %}

{% block title %}
  Products List
{% endblock %}

{% block body %}
  <h1>Products list</h1>
  <ul class="list-group my-2">
    {% for product in products %}
      <li class="list-group-item"><a
        {#        class="text-decoration-none"#}
        class="link-underline link-underline-opacity-0 link-underline-opacity-75-hover"
        href="{{ url_for('products_app.detail', product_id=product.id) }}"
      >{{ product.name }}</a></li>
    {% endfor %}
  </ul>
  <div>
    <a href="{{ url_for('products_app.add') }}">Create new</a>
  </div>

  <div>
    <ol reversed>
      <li class="underlined">first <strong>item</strong></li>
      <li class="underlined">подъез<span class="border-underline">д</span></li>
      <li>
        <span class="underlined">second <span style="border-bottom: solid red">hello</span> item</span>
        <!-- closing </li> tag is not here! -->
        <ul>
          <li>
            <del>second</del>
            item first subitem <span class="underlined">qwe</span></li>
          <li><span class="text-decoration-line-through">second</span> item second <b>subitem</b></li>
          <li>second <i>item</i> third <em>subitem</em></li>
        </ul>
      </li>
      <!-- Here's the closing </li> tag -->
      <li class="font-weight-bold">third item</li>
    </ol>

    <div class="bg-light">
      <div class="alert alert-info">
        Clicked: <strong><span id="clicked-times">0</span></strong> times
      </div>
      <button id="btn-click" class="btn btn-primary">
        +1
      </button>
      <button id="btn-clear" class="btn btn-warning">
        Clear
      </button>
    </div>
  </div>

  <script>
    const btnClick = document.getElementById("btn-click")
    const btnClear = document.getElementById("btn-clear")
    const clickedTimes = document.getElementById("clicked-times")
    let clickedTotal = 0;

    function showCount(count) {
      clickedTimes.innerText = count.toString()
    }

    function handleClick() {
      clickedTotal += 1
      showCount(clickedTotal)
    }

    function clearCounter() {
      clickedTotal = 0
      showCount(clickedTotal)
    }

    btnClick.addEventListener('click', handleClick)
    btnClear.addEventListener('click', clearCounter)
  </script>

{% endblock %}
